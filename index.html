<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detector de Banderas - Mundial 2026</title>
  
  <!-- Librer√≠as -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  
  <!-- Estilos CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Header -->
  <div class="header">
    <button class="manual-btn" onclick="openManual()" title="Manual de Usuario">
       Manual
    </button>
    <h1> Detector  de Banderas - Mundial 2026</h1>
    <p>Apunta tu c√°mara a cualquier bandera de los pa√≠ses participantes en M√©xico</p>
  </div>

  <!-- Banner de detecci√≥n -->
  <div class="detection-banner" id="detectionBanner">
    <h2 id="bannerTitle">¬°Bandera Detectada!</h2>
    <p id="bannerSubtitle">Contenido cargado correctamente</p>
  </div>

  <!-- Men√∫ flotante -->
  <div class="floating-menu" id="floatingMenu">
    <div class="menu-header" id="menuHeader">
      <span class="menu-header-text">Escanea una bandera</span>
    </div>
    <button class="menu-btn" onclick="openMenu('trivia')" title="Trivia / Encuestas">
      <span class="menu-icon"></span>
      <span class="menu-label">Trivia</span>
    </button>
    <button class="menu-btn" onclick="openMenu('video')" title="Video">
      <span class="menu-icon"></span>
      <span class="menu-label">Video</span>
    </button>
    <button class="menu-btn" onclick="openMenu('stats')" title="Estad√≠sticas">
      <span class="menu-icon"></span>
      <span class="menu-label">Estad√≠sticas</span>
    </button>
    <button class="menu-btn" onclick="animateModel()" title="Activar/Pausar Animaci√≥n">
      <span class="menu-icon" id="animationIcon"></span>
      <span class="menu-label">Animaci√≥n</span>
    </button>
  </div>

 
  <div class="modal" id="triviaModal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('triviaModal')">√ó</button>
      <h2 id="triviaTitle">Trivia</h2>
      <div class="trivia-container" id="triviaContainer">

      </div>
    </div>
  </div>

  
  <div class="modal" id="videoModal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('videoModal')">√ó</button>
      <h2 id="videoTitle">Video</h2>
      <div class="video-container" id="videoContainer">
        <iframe id="countryVideo" width="100%" height="400" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="video-filters">
        <button class="filter-btn" onclick="applyVideoFilter('none', this)">Normal</button>
        <button class="filter-btn" onclick="applyVideoFilter('grayscale', this)">Blanco y Negro</button>
        <button class="filter-btn" onclick="applyVideoFilter('sepia', this)">Sepia</button>
        <button class="filter-btn" onclick="applyVideoFilter('saturate', this)">Saturaci√≥n Alta</button>
      </div>
    </div>
  </div>


  <div class="modal" id="statsModal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('statsModal')">√ó</button>
      <h2 id="statsTitle">Estad√≠sticas</h2>
      <div class="stats-container" id="statsContainer">
      
      </div>
    </div>
  </div>

  <!-- Modal Manual de Usuario -->
  <div class="modal manual-modal" id="manualModal">
    <div class="modal-content manual-content">
      <button class="close-btn" onclick="closeModal('manualModal')">√ó</button>
      <div class="manual-container" id="manualContainer">
        <h1>Manual de Usuario</h1>
        <h2>Aplicaci√≥n Web ‚Äî Mundial 2026</h2>
        
        <section>
          <h3>1. Introducci√≥n</h3>
          <p>Bienvenido a la aplicaci√≥n de Realidad Aumentada del Mundial 2026. Esta herramienta interactiva permite escanear im√°genes, p√≥sters o elementos relacionados con el torneo para desplegar modelos 3D, animaciones, trivias, videos y contenido informativo.</p>
          <p>Este manual tiene como objetivo guiar al usuario en el uso correcto y eficiente de todas las funcionalidades de la aplicaci√≥n.</p>
        </section>

        <section>
          <h3>2. Requisitos del Sistema</h3>
          <h4>Dispositivos compatibles:</h4>
          <ul>
            <li>Tel√©fonos y tabletas Android (versi√≥n 8.0 o superior).</li>
            <li>iPhone/iPad con iOS 13 o superior.</li>
            <li>Navegadores compatibles: Chrome, Safari, Edge, Firefox.</li>
          </ul>
          <h4>Permisos necesarios:</h4>
          <ul>
            <li>Acceso a c√°mara (para escaneo AR).</li>
            <li>Acceso a internet (para cargar modelos, videos o estad√≠sticas).</li>
          </ul>
        </section>

        <section>
          <h3>3. Inicio y Navegaci√≥n</h3>
          <p>Al ingresar a la URL de la aplicaci√≥n, la c√°mara se activa autom√°ticamente.</p>
          <h4>Funcionamiento inmediato:</h4>
          <ul>
            <li>La aplicaci√≥n no tiene bot√≥n de Escanear.</li>
            <li>La c√°mara inicia autom√°ticamente al cargar la p√°gina.</li>
            <li>En pantalla aparece un cuadro de escaneo que indica al usuario d√≥nde colocar la bandera.</li>
          </ul>
          <h4>Una vez que el sistema detecta la bandera:</h4>
          <ul>
            <li>Se muestra la bandera identificada en pantalla.</li>
            <li>Se despliega el modelo 3D correspondiente.</li>
            <li>El modelo inicia con su animaci√≥n predeterminada.</li>
          </ul>
          <h4>Men√∫ inferior:</h4>
          <p>Un men√∫ fijo ubicado en la parte baja de la pantalla con las siguientes opciones:</p>
          <ul>
            <li><strong>Trivia</strong> ‚Äî Muestra preguntas relacionadas al pa√≠s escaneado.</li>
            <li><strong>Animaci√≥n</strong> ‚Äî Activa o cambia animaciones del modelo.</li>
            <li><strong>Video</strong> ‚Äî Reproduce un video tem√°tico del pa√≠s.</li>
            <li><strong>Estad√≠sticas</strong> ‚Äî Muestra datos relacionados al equipo, jugadores o mundiales.</li>
          </ul>
          <p>El men√∫ cambia din√°micamente seg√∫n la bandera detectada.</p>
        </section>

        <section>
          <h3>4. Funci√≥n de Escaneo AR</h3>
          <h4>C√≥mo usar el modo AR:</h4>
          <ul>
            <li>Presione el bot√≥n "Escanear".</li>
            <li>Permita el acceso a la c√°mara.</li>
            <li>Apunte el dispositivo hacia la imagen o marcador relacionado al Mundial 2026.</li>
          </ul>
          <p>La aplicaci√≥n detectar√° el elemento y mostrar√° contenido AR como:</p>
          <ul>
            <li>Modelos 3D (estadios, trofeos, balones, jugadores).</li>
            <li>Animaciones.</li>
            <li>Informaci√≥n emergente.</li>
            <li>Botones interactivos.</li>
          </ul>
          <h4>Consejos para escanear correctamente:</h4>
          <ul>
            <li>Aseg√∫rese de estar en un lugar bien iluminado.</li>
            <li>Mantenga el marcador completamente visible.</li>
            <li>Evite movimientos bruscos.</li>
          </ul>
        </section>

        <section>
          <h3>5. Interfaz AR y Botones Interactivos</h3>
          <p>Una vez detectado el marcador, aparecer√°n elementos interactivos como:</p>
          <ol>
            <li><strong>Bot√≥n "Reproducir Video"</strong> ‚Äî Muestra un video relacionado con el equipo o jugador.</li>
            <li><strong>Bot√≥n "Estad√≠sticas"</strong> ‚Äî Despliega datos relevantes del Mundial, partidos o jugadores.</li>
            <li><strong>Bot√≥n "Animar Modelo"</strong> ‚Äî Activa animaciones 3D (celebraci√≥n, movimiento, rotaci√≥n, etc.).</li>
            <li><strong>Bot√≥n "Trivia AR"</strong> ‚Äî Muestra una pregunta aleatoria relacionada a los mundiales.</li>
            <li><strong>Bot√≥n "Siguiente Pregunta"</strong> ‚Äî Cambia a una nueva pregunta dentro del modo trivia.</li>
          </ol>
        </section>

        <section>
          <h3>6. Modo Trivia y Encuestas</h3>
          <p>La aplicaci√≥n contiene 5 trivias diferentes y selecciona una al azar.</p>
          <h4>C√≥mo usar la trivia:</h4>
          <ul>
            <li>Ingrese desde el men√∫ principal o desde AR.</li>
            <li>Se mostrar√° una pregunta y opciones m√∫ltiples.</li>
            <li>Seleccione una respuesta.</li>
          </ul>
          <p>La app mostrar√°:</p>
          <ul>
            <li>Respuesta correcta/incorrecta.</li>
            <li>Bot√≥n para siguiente pregunta.</li>
          </ul>
          <p>Cada trivia contiene 5 preguntas por pa√≠s, dependiendo del contenido asociado.</p>
        </section>

        <section>
          <h3>7. Modo Videos</h3>
          <p>Permite ver videos tem√°ticos del Mundial 2026 o hist√≥ricos asignados a cada pa√≠s.</p>
          <h4>Opciones disponibles:</h4>
          <ul>
            <li>Reproducci√≥n de video mediante URL.</li>
            <li>Aplicaci√≥n de filtros de color en tiempo real:
              <ul>
                <li>Blanco y negro.</li>
                <li>Sepia.</li>
                <li>Saturaci√≥n alta.</li>
              </ul>
            </li>
          </ul>
          <p>El usuario puede activar o desactivar cada filtro desde el men√∫ inferior cuando el video est√° disponible para el pa√≠s detectado.</p>
        </section>

        <section>
          <h3>9. Ajustes de la Aplicaci√≥n</h3>
          <p>Incluye:</p>
          <ul>
            <li>Reiniciar tutorial.</li>
            <li>Restablecer posici√≥n de objetos AR.</li>
            <li>Activar/desactivar sonido.</li>
            <li>Idioma.</li>
          </ul>
        </section>

        <section>
          <h3>10. Soluci√≥n de Problemas</h3>
          <h4>No se muestra el modelo AR:</h4>
          <ul>
            <li>Verifique que el marcador est√© iluminado.</li>
            <li>Revise que la c√°mara tenga permisos.</li>
            <li>Limpie la lente de la c√°mara.</li>
          </ul>
          <h4>Los botones no funcionan:</h4>
          <ul>
            <li>Aseg√∫rese de que un marcador est√© detectado.</li>
            <li>Espere a que cargue el contenido.</li>
          </ul>
          <h4>Video no carga:</h4>
          <ul>
            <li>Revise su conexi√≥n a Internet.</li>
            <li>Verifique que la URL est√© activa.</li>
          </ul>
        </section>

        <section>
          <h3>11. Seguridad y Privacidad</h3>
          <ul>
            <li>La aplicaci√≥n solo usa la c√°mara para detectar marcadores.</li>
            <li>No almacena fotos ni videos del usuario.</li>
            <li>No recopila datos personales.</li>
          </ul>
        </section>

        <section>
          <h3>12. Cr√©ditos</h3>
          <p><strong>Aplicaci√≥n desarrollada por:</strong> Juan Eduardo Silva De Leon</p>
          <p><strong>Proyecto del curso:</strong> Procesamiento de Im√°genes ‚Äì LMAD 2025</p>
          <p><strong>Universidad Aut√≥noma de Nuevo Le√≥n</strong></p>
        </section>
      </div>
    </div>
  </div>

  <!-- Informaci√≥n del pa√≠s -->
  <div class="country-info" id="countryInfo">
    <button class="close-btn" onclick="closeCountryInfo()">√ó</button>
    <div class="info-content">
      <h2 id="infoTitle">üá¶üá∑ Argentina</h2>
      <div class="info-stats" id="infoStats">
        <!-- Las estad√≠sticas se llenan din√°micamente -->
      </div>
      <p id="infoDescription" style="line-height: 1.6; margin-top: 15px;">
        Informaci√≥n sobre el pa√≠s y su participaci√≥n en el Mundial 2026.
      </p>
    </div>
  </div>

  <!-- Escena AR Principal -->
  <div class="ar-container">
    <a-scene 
      mindar-image="imageTargetSrc: ./assets/targets/banderas-combinadas.mind; 
                    autoStart: true; 
                    uiScanning: yes; 
                    uiLoading: yes; 
                    filterMinCF: 0.001; 
                    filterBeta: 0.001;"
      color-space="sRGB" 
      renderer="colorManagement: true, physicallyCorrectLights" 
      vr-mode-ui="enabled: false" 
      device-orientation-permission-ui="enabled: false"
      xr-mode-ui="enabled: false">
      
      <a-assets>
        <!-- Im√°genes de banderas -->
        <img id="argentina-flag" src="./assets/images/Argentina.png" crossorigin="anonymous">
        <img id="australia-flag" src="./assets/images/australia.png" crossorigin="anonymous">
        <img id="brasil-flag" src="./assets/images/brasil.png" crossorigin="anonymous">
        <img id="canada-flag" src="./assets/images/canada.png" crossorigin="anonymous">
        
        <!-- Modelos 3D -->
        <a-asset-item id="argentina-model" src="./assets/models/argentina.glb" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="australia-model" src="./assets/models/australia.glb" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="brasil-model" src="./assets/models/brasil.glb" crossorigin="anonymous"></a-asset-item>
        
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <!-- TARGET 0: ARGENTINA -->
      <a-entity mindar-image-target="targetIndex: 0">
        <a-plane 
          src="#argentina-flag" 
          position="0 0 0" 
          height="0.552" 
          width="1" 
          rotation="0 0 0"
          material="transparent: true; opacity: 0.9; side: double">
        </a-plane>
        
        <a-gltf-model 
          id="argentina-3d"
          position="0.6 0.3 0.1" 
          scale="0.25 0.25 0.25" 
          src="#argentina-model"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 6000; easing: linear"
          animation__bounce="property: position; to: 0.6 0.5 0.1; dur: 2000; loop: true; dir: alternate">
        </a-gltf-model>
        
        <a-text 
          value="üá¶üá∑ Argentina" 
          position="-0.6 0.4 0" 
          scale="0.8 0.8 0.8" 
          color="#FFFFFF"
          align="center"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json">
        </a-text>
        
        <!-- Bot√≥n de informaci√≥n -->
        <a-entity 
          position="0 0.8 0" 
          class="info-button" 
          data-country="argentina"
          mindar-face-up-button>
          <a-ring color="#74ACDF" radius-inner="0.04" radius-outer="0.06"></a-ring>
          <a-text value="‚ÑπÔ∏è" position="0 0 0.001" align="center" scale="1.5 1.5 1.5"></a-text>
        </a-entity>
      </a-entity>

      <!-- TARGET 1: AUSTRALIA -->
      <a-entity mindar-image-target="targetIndex: 1">
        <a-plane 
          src="#australia-flag" 
          position="0 0 0" 
          height="0.552" 
          width="1" 
          rotation="0 0 0"
          material="transparent: true; opacity: 0.9; side: double">
        </a-plane>
        
        <a-gltf-model 
          id="australia-3d"
          position="0.6 0.3 0.1" 
          scale="0.25 0.25 0.25" 
          src="#australia-model"
          animation="property: rotation; to: 360 0 0; loop: true; dur: 5000; easing: linear"
          animation__bounce="property: position; to: 0.6 0.5 0.1; dur: 1800; loop: true; dir: alternate">
        </a-gltf-model>
        
        <a-text 
          value="üá¶üá∫ Australia" 
          position="-0.6 0.4 0" 
          scale="0.8 0.8 0.8" 
          color="#FFFFFF"
          align="center"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json">
        </a-text>
        
        <!-- btn inf -->
        <a-entity 
          position="0 0.8 0" 
          class="info-button" 
          data-country="australia"
          mindar-face-up-button>
          <a-ring color="#012169" radius-inner="0.04" radius-outer="0.06"></a-ring>
          <a-text value="‚ÑπÔ∏è" position="0 0 0.001" align="center" scale="1.5 1.5 1.5"></a-text>
        </a-entity>
      </a-entity>

      <!--BRASIL -->
      <a-entity mindar-image-target="targetIndex: 2">
        <a-plane 
          src="#brasil-flag" 
          position="0 0 0" 
          height="0.552" 
          width="1" 
          rotation="0 0 0"
          material="transparent: true; opacity: 0.9; side: double">
        </a-plane>
        
        <a-gltf-model 
          id="brasil-3d"
          position="0.6 0.3 0.1" 
          scale="0.25 0.25 0.25" 
          src="#brasil-model"
          animation="property: rotation; to: 0 0 360; loop: true; dur: 5500; easing: linear"
          animation__bounce="property: position; to: 0.6 0.5 0.1; dur: 2200; loop: true; dir: alternate">
        </a-gltf-model>
        
        <a-text 
          value="üáßüá∑ Brasil" 
          position="-0.6 0.4 0" 
          scale="0.8 0.8 0.8" 
          color="#FFFFFF"
          align="center"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json">
        </a-text>
        
        <!-- Btn informaci√≥n -->
        <a-entity 
          position="0 0.8 0" 
          class="info-button" 
          data-country="brasil"
          mindar-face-up-button>
          <a-ring color="#009739" radius-inner="0.04" radius-outer="0.06"></a-ring>
          <a-text value="‚ÑπÔ∏è" position="0 0 0.001" align="center" scale="1.5 1.5 1.5"></a-text>
        </a-entity>
      </a-entity>

      <!-- CANAD√Å -->
      <a-entity mindar-image-target="targetIndex: 3">
        <a-plane 
          src="#canada-flag" 
          position="0 0 0" 
          height="0.552" 
          width="1" 
          rotation="0 0 0"
          material="transparent: true; opacity: 0.9; side: double">
        </a-plane>
        
        <a-gltf-model 
          id="canada-3d"
          position="0.6 0.3 0.1" 
          scale="0.25 0.25 0.25" 
          src="#canada-model"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 6000; easing: linear"
          animation__bounce="property: position; to: 0.6 0.5 0.1; dur: 2000; loop: true; dir: alternate">
        </a-gltf-model>
        
        <a-text 
          value="üá®üá¶ Canada" 
          position="-0.6 0.4 0" 
          scale="0.8 0.8 0.8" 
          color="#FFFFFF"
          align="center"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json">
        </a-text>
        
        <!-- Bot√≥n de informaci√≥n -->
        <a-entity 
          position="0 0.8 0" 
          class="info-button" 
          data-country="canada"
          mindar-face-up-button>
          <a-ring color="#FF0000" radius-inner="0.04" radius-outer="0.06"></a-ring>
          <a-text value="‚ÑπÔ∏è" position="0 0 0.001" align="center" scale="1.5 1.5 1.5"></a-text>
        </a-entity>
      </a-entity>

      

  <!-- JavaScript -->
  <script src="script.js"></script>
</body>
</html>